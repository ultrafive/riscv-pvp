_: &default
  head: |
    #include "exception.h"
  env: RVTEST_RV64UV
  _templates: &_templates
    test_basic: |
      test_{num}:
        li TESTNUM, {num};
        la a0, {vs_data};
        {ldins} {vreg}, (a0);
        la a1, test_{num}_data;
        {name} {vreg}, (a1);
        .pushsection .data, 1;
      test_{num}_data:
        .fill ({vlen}/8*{nf}), 1, 0;
        .popsection

  templates:
    <<: *_templates
    test_basic @ vs, nf, vreg, ldins @ vlen=1024: |
      {inherit}
  check:
    test_basic: np.equal( result, golden ).all()

vs1r_v: 
  <<: *default
  cases:
    test_basic:
      - "[ np.linspace(0, 255, 128, dtype=np.uint8), 1, 'v1', 'vl1r.v' ]"

vs2r_v: 
  <<: *default
  cases:
    test_basic:
      - "[ np.linspace(0, 255, 128*2, dtype=np.uint8), 2, 'v2', 'vl2r.v' ]"

vs4r_v: 
  <<: *default
  cases:
    test_basic:
      - "[ np.linspace(0, 255, 128*4, dtype=np.uint8), 4, 'v4', 'vl4r.v' ]"

vs8r_v: 
  <<: *default
  cases:
    test_basic:
      - "[ np.linspace(0, 255, 128*8, dtype=np.uint8), 8, 'v8', 'vl8r.v' ]"            