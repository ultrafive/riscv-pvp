_: &default
  env: RVTEST_RV64UV
  head: |
    #include "exception.h"
    #include "test_macros_v.h"
  
  templates:
    test_basic_without_mask @ vlen, lmul, ebits: |
      test_{num}:
        li TESTNUM, {num};

        li a0, {vlen};

        vsetvli t0, a0, e{ebits},m{lmul},tu,mu;
        {name} v8;
        la a3, test_{num}_data;
        
        vsetvli t0, a0, e{ebits},m{lmul},tu,mu;
        vse{ebits}.v v8, (a3);
        .pushsection .data, 1;
      test_{num}_data:
        .fill {vlen}, {ebits}, 0;
        .popsection
    


  cases:
    test_basic_without_mask:
      - '[1,    1, 8 ]'
      - '[4,    1, 8 ]'
      - '[7,    1, 8 ]'
      - '[8,    1, 8 ]'
      - '[9,    1, 8 ]'
      - '[15,   1, 8 ]'
      - '[16,   1, 8 ]'
      - '[17,   1, 8 ]'
      - '[31,   1, 8 ]'
      - '[32,   1, 8 ]'
      - '[33,   1, 8 ]'
      - '[64,   1, 8 ]'
      - '[65,   1, 8 ]'
      - '[127,  1, 8 ]'
      - '[128,  1, 8 ]'
      - '[129,  2, 8 ]'
      - '[255,  2, 8 ]'
      - '[256,  2, 8 ]'
      - '[257,  4, 8 ]'
      - '[511,  4, 8 ]'
      - '[512,  4, 8 ]'
      - '[513,  8, 8 ]'
      - '[1023, 8, 8 ]'
      - '[1024, 8, 8 ]'
      - '[1,    1, 16]'
      - '[4,    1, 16]'
      - '[7,    1, 16]'
      - '[8,    1, 16]'
      - '[9,    1, 16]'
      - '[15,   1, 16]'
      - '[16,   1, 16]'
      - '[17,   1, 16]'
      - '[31,   1, 16]'
      - '[32,   1, 16]'
      - '[33,   1, 16]'
      - '[64,   1, 16]'
      - '[65,   2, 16]'
      - '[127,  2, 16]'
      - '[128,  2, 16]'
      - '[129,  4, 16]'
      - '[255,  4, 16]'
      - '[256,  4, 16]'
      - '[257,  8, 16]'
      - '[511,  8, 16]'
      - '[512,  8, 16]'
      - '[1,    1, 32]'
      - '[3,    1, 32]'
      - '[4,    1, 32]'
      - '[5,    1, 32]'
      - '[7,    1, 32]'
      - '[8,    1, 32]'
      - '[9,    1, 32]'
      - '[15,   1, 32]'
      - '[16,   1, 32]'
      - '[17,   1, 32]'
      - '[31,   1, 32]'
      - '[32,   1, 32]'
      - '[33,   2, 32]'
      - '[64,   2, 32]'
      - '[65,   4, 32]'
      - '[127,  4, 32]'
      - '[128,  4, 32]'
      - '[129,  8, 32]'
      - '[255,  8, 32]'
      - '[256,  8, 32]'
      - '[1,    1, 64]'
      - '[3,    1, 64]'
      - '[4,    1, 64]'
      - '[5,    1, 64]'
      - '[7,    1, 64]'
      - '[8,    1, 64]'
      - '[9,    1, 64]'
      - '[15,   1, 64]'
      - '[16,   1, 64]'
      - '[17,   2, 64]'
      - '[31,   2, 64]'
      - '[32,   2, 64]'
      - '[33,   4, 64]'
      - '[64,   4, 64]'
      - '[65,   8, 64]'
      - '[127,  8, 64]'
      - '[128,  8, 64]'

  check:
    test_basic_without_mask: np.array_equal(result, golden)

vid_v:
  <<: *default
